ressync/
├── manage.py
├── pyproject.toml / requirements.txt
├── .env
├── .env.example
├── Dockerfile
├── docker-compose.yml
├── README.md
├── CHANGELOG.md
│
├── config/
│   ├── __init__.py
│   ├── asgi.py
│   ├── wsgi.py
│   ├── urls.py
│   └── settings/
│       ├── __init__.py
│       ├── base.py
│       ├── local.py
│       ├── staging.py
│       └── production.py
│
├── apps/                                 # Django apps (logical boundary)
│   ├── accounts/                         # public: users, auth, roles
│   ├── tenancy/                          # public: Tenant(Study) model + provisioning
│   │   ├── management/commands/
│   │   │   ├── create_tenant.py
│   │   │   ├── migrate_tenant.py
│   │   │   └── deprovision_tenant.py
│   │   ├── middleware.py
│   │   └── models.py
│   ├── core/                             # shared utils, base mixins, validators
│   ├── api/                              # DRF endpoints (global + tenant-aware)
│   └── web/                              # server-rendered UI (templates + fallback static)
│       ├── templates/
│       │   ├── base.html
│       │   ├── includes/
│       │   ├── default/                  # fallback templates
│       │   └── studies/                  # runtime templates per study (dev/prod copies)
│       │       └── <schema_name>/        # e.g. study_43en
│       │           ├── dashboard.html
│       │           └── forms/
│       └── static/
│           ├── css/
│           │   ├── base.css
│           │   ├── vendor/               # bootstrap, datatables...
│           │   └── studies/              # per-study CSS (deployed copies)
│           │       └── <schema_name>.css
│           ├── js/
│           │   ├── main.js
│           │   └── studies/
│           │       └── <schema_name>.js
│           └── images/
│               └── studies/
│                   └── <schema_name>/
│
├── study_templates/                      # canonical templates used to provision new tenant
│   ├── template_base/                    # common scaffold
│   │   ├── models.py
│   │   ├── migrations/
│   │   ├── fixtures/
│   │   ├── templates/
│   │   └── static/
│   ├── study_43en/                       # example study template (can be many)
│   └── study_44en/
│
├── migrations_tooling/                   # scripts to run migrations per-tenant safely
│   ├── migrate_tenant.py                 # script wrapper (callable outside manage.py)
│   ├── migrate_all_tenants.py
│   └── dryrun_migration_check.py
│
├── ops/                                  # Ops scripts & playbooks
│   ├── backup_schema.sh
│   ├── restore_schema.sh
│   ├── rotate_logs.sh
│   └── playbooks/
│       ├── migration_playbook.md
│       └── backup_restore.md
│
├── infra/                                # infra-as-code, CI, k8s manifests
│   ├── k8s/
│   ├── terraform/
│   └── ci_cd/
│
├── docs/
│   ├── architecture.md
│   ├── tenant_onboarding.md
│   ├── dev_contrib.md
│   └── api_reference.md
│
├── tests/
│   ├── unit/
│   └── integration/                       # include tenant lifecycle tests
│
├── scripts/                              # small utilities invoked by CI/ops
│   ├── build_frontend.sh                 # build & copy assets into web/static
│   └── sync_templates.sh
│
└── frontend/                             # Optional SPA (React/Vue), built into web/static/dist
    ├── package.json
    ├── src/
    └── dist/
