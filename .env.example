# =============================================================================
#                         ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# Copy this file to .env and fill in your values
# cp .env.example .env
#
# IMPORTANT: Never commit .env to git!
# =============================================================================

# =============================================================================
#                         ENVIRONMENT SWITCH
# =============================================================================
# >>> CHANGE THIS TO SWITCH BETWEEN DEV AND PROD <<<
# Options: dev | test | prod
DJANGO_ENV=dev

# =============================================================================
# CORE DJANGO
# =============================================================================
# Generate: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-super-secret-key-at-least-50-characters-long

# Auto-handled by DJANGO_ENV (dev=True, prod=False)
# Only set explicitly if needed
# DEBUG=True

ALLOWED_HOSTS=localhost,127.0.0.1
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
PGDATABASE=db_management
PGUSER=your_db_user
PGPASSWORD=your_db_password
PGHOST=localhost
PGPORT=5432
MANAGEMENT_DB_SCHEMA=management

# Study databases
STUDY_DB_PREFIX=db_study_
STUDY_DB_SCHEMA=data,log
STUDY_PREFIX=study_

# Leave empty = inherit from management DB
STUDY_PGUSER=
STUDY_PGPASSWORD=
STUDY_PGHOST=
STUDY_PGPORT=

# PgBouncer (set True in prod if using connection pooler)
USE_PGBOUNCER=False

# =============================================================================
# REDIS & CELERY
# =============================================================================
# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ REDIS CONFIGURATION GUIDE                                                   │
# ├─────────────────────────────────────────────────────────────────────────────┤
# │                                                                             │
# │ DEVELOPMENT (DJANGO_ENV=dev):                                               │
# │   - Redis is OPTIONAL                                                       │
# │   - dev.py forces LocMemCache regardless of REDIS_URL                       │
# │   - Celery runs in EAGER mode (synchronous, no broker needed)               │
# │   - Just comment out REDIS_URL if you don't have Redis installed            │
# │                                                                             │
# │ PRODUCTION (DJANGO_ENV=prod):                                               │
# │   - Redis is REQUIRED for:                                                  │
# │     * Shared cache across multiple workers/servers                          │
# │     * Celery async task processing                                          │
# │     * Session storage (optional, using Redis sessions cache)                │
# │   - Must have Redis server running                                          │
# │                                                                             │
# │ REDIS DATABASE NUMBERS:                                                     │
# │   - 0: Django Cache (REDIS_URL)                                             │
# │   - 1: Celery Broker (CELERY_BROKER_URL)                                    │
# │   - 2: Celery Results (CELERY_RESULT_BACKEND)                               │
# │                                                                             │
# └─────────────────────────────────────────────────────────────────────────────┘

# To DISABLE Redis (dev only): Comment out the line below
# To ENABLE Redis: Uncomment the line below
# REDIS_URL=redis://localhost:6379/0

# With authentication (production):
# REDIS_URL=redis://:your_password@localhost:6379/0

# Celery (only needed in production)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# EMAIL
# =============================================================================
# Dev: auto uses console backend (prints to terminal)
# Prod: auto uses SMTP backend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your_email@gmail.com
EMAIL_HOST_PASSWORD=your_app_password
DEFAULT_FROM_EMAIL=your_email@gmail.com
SERVER_EMAIL=your_email@gmail.com

# =============================================================================
# SESSION
# =============================================================================
SESSION_COOKIE_NAME=your_app_sessionid
SESSION_COOKIE_AGE=28800  # 8 hours in seconds

# =============================================================================
# ENCRYPTION
# =============================================================================
# Generate Fernet key:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FIELD_ENCRYPTION_KEY=your-fernet-key-here

# Required in production, optional in dev
BACKUP_ENCRYPTION_PASSWORD=your-backup-password

# =============================================================================
# ADMIN & ORGANIZATION
# =============================================================================
ADMIN_EMAIL=admin@yourcompany.com
SERVER_NAME=YourAppName
ORGANIZATION_NAME=Your Organization Name
