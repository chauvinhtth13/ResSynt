<!-- frontends\templates\account\login.html -->
{% extends 'account/auth_base.html' %}
{% load i18n static allauth account %}

{% block title %}Sign In - ResSync Platform{% endblock %}
{% comment %} {% block auth_content %}
<div class="p-responsive flex-grow-1 d-flex flex-column justify-content-center">
    <!-- Title and Logo -->
    <div class="text-center mb-3">
        <h1 class="fs-title-2 fw-bold mb-2">{% trans "Welcome back" %}</h1>
        <img src="{% static 'base/images/logo.svg' %}" alt="ResSync Logo" height="50" class="d-block mx-auto">
    </div>

    <!-- Error Messages -->
    {% if form.errors %}
    <div class="alert alert-danger d-flex align-items-center px-3 py-2" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-3"></i>
        <div class="small">
            {% if form.non_field_errors %}
            {% for error in form.non_field_errors %}
            {{ error }}
            {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Login Form -->
    <form method="POST" action="{% url 'account_login' %}" id="loginForm">
        {% csrf_token %}

        <!-- Username/Email Input -->
        <div class="mb-3">
            <label class="form-label fs-5 fw-semibold mb-2 d-flex align-items-center"
                for="{{ form.login.id_for_label }}">
                <i class="bi bi-person-fill me-2 text-muted"></i> {% trans "Username or Email" %}
            </label>
            <input type="text" id="{{ form.login.id_for_label }}" name="{{ form.login.html_name }}"
                class="form-control app-form-control px-4 py-3 fs-5" value="{{ form.login.value|default:'' }}"
                placeholder="{% trans 'Enter username or email' %}" required autofocus>
        </div>

        <!-- Password Input -->
        <div class="mb-4">
            <label class="form-label fs-5 fw-semibold mb-2 d-flex align-items-center"
                for="{{ form.password.id_for_label }}">
                <i class="bi bi-lock-fill me-2 text-muted"></i> {% trans "Password" %}
            </label>
            <div class="password-input-container position-relative">
                <input id="{{ form.password.id_for_label }}" name="{{ form.password.html_name }}" type="password"
                    class="form-control px-4 py-3 fs-5" placeholder="{% trans 'Enter password' %}" required>
                <button type="button"
                    class="password-toggle-icon btn btn-link position-absolute top-50 end-0 translate-middle-y me-3"
                    aria-label="{% trans 'Toggle password visibility' %}" tabindex="-1">
                    <i class="bi bi-eye-slash fs-4"></i>
                </button>
            </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-royal-blue w-100 py-3 fw-semibold mb-3 fs-5" id="submitBtn">
            <span id="btnText">{% trans "Sign In" %}</span>
        </button>
    </form>

    <!-- Forgot Password -->
    <div class="text-center w-100 w-md-75 mx-auto">
        <a href="{% url 'account_reset_password' %}" class="link-royal-blue fw-bold">
            {% trans "Forgotten password?" %}
        </a>
    </div>
</div>
{% endblock %} {% endcomment %}